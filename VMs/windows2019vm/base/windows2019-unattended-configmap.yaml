kind: ConfigMap
apiVersion: v1
metadata:
  name: windows-vm-unattended
  namespace: kubevirt-gitops
  annotations:
    argocd.argoproj.io/sync-wave: "0"
data:
  unattend.xml: "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n    <settings pass=\"windowsPE\">\n        <component name=\"Microsoft-Windows-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n            <UserData>\n                <AcceptEula>true</AcceptEula>\n                <Organization>local</Organization>\n                <FullName>user</FullName>\n            </UserData>\n        </component>\n        <component name=\"Microsoft-Windows-International-Core-WinPE\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n            <SetupUILanguage>\n                <UILanguage>en-us</UILanguage>\n            </SetupUILanguage>\n            <InputLocale>en-us</InputLocale>\n            <SystemLocale>en-us</SystemLocale>\n            <UILanguage>en-us</UILanguage>\n            <UserLocale>en-us</UserLocale>\n        </component>\n    </settings>\n    <settings pass=\"oobeSystem\">\n        <component name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n            <OOBE>\n                <HideEULAPage>true</HideEULAPage>\n                <HideLocalAccountScreen>true</HideLocalAccountScreen>\n                <HideOEMRegistrationScreen>true</HideOEMRegistrationScreen>\n                <HideOnlineAccountScreens>true</HideOnlineAccountScreens>\n                <HideWirelessSetupInOOBE>true</HideWirelessSetupInOOBE>\n                <SkipMachineOOBE>true</SkipMachineOOBE>\n                <SkipUserOOBE>true</SkipUserOOBE>\n                <ProtectYourPC>1</ProtectYourPC>\n            </OOBE>\n            <UserAccounts>\n                <AdministratorPassword>\n                    <Value>Passw0rd</Value>\n                    <PlainText>true</PlainText>\n                </AdministratorPassword>\n\t    </UserAccounts>\n\t    <AutoLogon>\n                <Password>\n                    <Value>Passw0rd</Value>\n                    <PlainText>true</PlainText>\n                </Password>\n                <Enabled>true</Enabled>\n                <LogonCount>1</LogonCount>\n                <Username>Administrator</Username>\n            </AutoLogon>\n            <FirstLogonCommands>\n                <SynchronousCommand wcm:action=\"add\">\n                    <CommandLine>powershell Install-WindowsFeature -name Web-Server -IncludeManagementTools</CommandLine>\n                    <Order>1</Order>\n\t\t            <Description>Install IIS in the default config</Description>\n                    <RequiresUserInput>false</RequiresUserInput>\n                </SynchronousCommand>\n            </FirstLogonCommands>\n        </component>\n</settings>\n    <cpi:offlineImage cpi:source=\"wim:c:/users/administrator/documents/install.wim#Windows Server 2019 SERVERSTANDARD\" xmlns:cpi=\"urn:schemas-microsoft-com:cpi\" />\n</unattend>\n"
